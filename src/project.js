window.__require=function e(t,c,o){function i(s,a){if(!c[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!a&&l)return l(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+s+"'")}}var h=c[s]={exports:{}};t[s][0].call(h.exports,function(e){return i(t[s][1][e]||e)},h,h.exports,e,t,c,o)}return c[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({AutoMove:[function(e,t,c){"use strict";cc._RF.push(t,"86c06Hu7q5HeL998TE1/+HN","AutoMove"),cc.Class({extends:cc.Component,properties:{moveSpeed:1},start:function(){this.node.runAction(cc.repeatForever(cc.moveBy(1,this.moveSpeed,0)))},update:function(e){this.node.x>1160&&(this.node.x=-1160)}}),cc._RF.pop()},{}],CameraController:[function(e,t,c){"use strict";cc._RF.push(t,"20aa85rGLVNWJb5FWJJlynK","CameraController"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],EffectsController:[function(e,t,c){"use strict";cc._RF.push(t,"c61c1uEK0hHRrO8Sl15cNVo","EffectsController"),cc.Class({extends:cc.Component,properties:{particleSystems:[cc.ParticleSystem],windowLights:[cc.Sprite],lightBeacon:cc.Sprite,frame:cc.Sprite,logo:cc.Sprite,cloud1:cc.Sprite,cloud2:cc.Sprite},startLights:function(){for(var e=0;e<this.windowLights.length;e++)this.windowLights[e].enabled=!0,this.windowLights[e].node.opacity=0,this.windowLights[e].node.runAction(cc.sequence(cc.delayTime(.4*e),cc.fadeIn(.3)));this.lightBeacon.enabled=!0,this.lightBeacon.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(0,1,0),cc.delayTime(3),cc.scaleTo(.4,1,1),cc.scaleTo(.2,1,0)))),this.lightBeacon.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(3),cc.moveBy(.6,-36,0),cc.moveBy(0,36,0)))),this.frame.enabled=!0,this.frame.node.opacity=0,this.frame.node.runAction(cc.sequence(cc.delayTime(3),cc.fadeTo(1,150))),this.logo.enabled=!0,this.logo.node.opacity=0,this.logo.node.runAction(cc.sequence(cc.delayTime(4),cc.fadeIn(1)))},stopLights:function(){for(var e=0;e<this.windowLights.length;e++)this.windowLights[e].enabled=!1,this.lightBeacon.enabled=!1,this.frame.enabled=!1,this.logo.enabled=!1,this.windowLights[0].node.stopAllActions(),this.windowLights[4].node.stopAllActions(),this.lightBeacon.node.stopAllActions()},onLoad:function(){}}),cc._RF.pop()},{}],Indicators:[function(e,t,c){"use strict";cc._RF.push(t,"a1eb5wUcN9DnYzMsQb9WUuC","Indicators"),cc.Class({extends:cc.Component,properties:{hand:cc.Sprite,leftArrow:cc.Sprite,rightArrow:cc.Sprite,fractionTime:.2,fulltime:1,handStartPosition:cc.v2(0,0)},showIndicators:function(){this.hand.node.stopAllActions(),this.leftArrow.node.stopAllActions(),this.rightArrow.node.stopAllActions(),this.hand.enabled=!0,this.rightArrow.enabled=!0,this.leftArrow.enabled=!0,this.handStartPosition.x=this.hand.x,this.handStartPosition.y=this.hand.y,this.rightArrow.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.5),cc.moveBy(1,150,0),cc.moveBy(0,-150,0),cc.delayTime(2)))),this.rightArrow.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.5),cc.fadeOut(1),cc.delayTime(1.5),cc.fadeIn(.5)))),this.leftArrow.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1.5),cc.moveBy(1,-150,0),cc.moveBy(0,150,0),cc.delayTime(1)))),this.leftArrow.node.runAction(cc.repeatForever(cc.sequence(cc.fadeOut(0),cc.delayTime(1),cc.fadeIn(.5),cc.fadeOut(1),cc.delayTime(1))))},stopIndicators:function(){this.hand.node.stopAllActions(),this.leftArrow.node.stopAllActions(),this.rightArrow.node.stopAllActions(),this.hand.enabled=!1,this.rightArrow.enabled=!1,this.leftArrow.enabled=!1,this.rightArrow.node.x=960,this.leftArrow.node.x=960}}),cc._RF.pop()},{}],ParallaxController:[function(e,t,c){"use strict";cc._RF.push(t,"b0049EaKkZNNr+SaYEsEZ3X","ParallaxController");var o=e("EffectsController"),i=e("ParallaxScaler"),n=e("Indicators");cc.Class({extends:cc.Component,properties:{motionEnabled:cc.Boolean,canvas:cc.Node,maxTouchDeviation:cc.v2(400,400),touchStart:cc.v2(0,0),touchOffset:cc.v2(0,0),_acc:cc.v3(0,0,0),_offset:cc.v2(0,0),_difference:cc.v3(0,0,0),dayBG:cc.Node,nightBG:cc.Node,sunImage:cc.Sprite,moomImage:cc.Sprite,parallaxElements:[cc.Node],movementActive:!0,outlineImage:cc.Sprite,fillImage:cc.Sprite,snowflake:cc.Sprite,endEffects:[cc.ParticleSystem],effectsController:{default:null,type:o},parallaxScaleShadow:{default:null,type:i},restartButton:cc.Node,indicatorNode:{default:null,type:n},actionActive:!1,endEffectEnabled:!1,touchReleaseDeviation:0},onLoad:function(){cc.debug.setDisplayStats(!1);cc.view.getVisibleSize();cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this),cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.setAccelerometerInterval(.01),this.setOffset(),this.isMoving=!1,this.canvas.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.canvas.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMovement,this),this.canvas.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.restartButton.opacity=0,this.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(this.enableGameEnd.bind(this)))),this.indicatorNode.showIndicators(),this.sunImage.node.runAction(cc.repeatForever(cc.rotateBy(1,10))),this.sunImage.node.runAction(cc.repeatForever(cc.sequence(cc.scaleBy(1,1.02),cc.scaleBy(1,.98)))),this.parallaxScaleShadow.setScale(0,0)},startLights:function(){this.effectsController.startLights()},onDestroy:function(){cc.systemEvent.setAccelerometerEnabled(!1),cc.systemEvent.off(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this)},onDeviceMotionEvent:function(e){this._acc.x=e.acc.x,this._acc.y=e.acc.y,this._acc.z=e.acc.z},onTouchStart:function(e){this.indicatorNode.stopIndicators();var t=e.getTouches()[0].getLocation();this.isMoving=!0,this.touchStart=t},onTouchMovement:function(e){var t=e.getTouches()[0].getLocation();t.x-this.touchStart.x+this.touchReleaseDeviation<this.maxTouchDeviation.x&&(this.touchOffset.x=t.x-this.touchStart.x+this.touchReleaseDeviation,this.touchOffset.y=t.y-this.touchStart.y)},onTouchEnd:function(e){self.isMoving=!1,this.touchReleaseDeviation=this.touchOffset.x},update:function(e){if(1==this.movementActive)if(this.motionEnabled){this._difference.x=this._acc.x-this._offset.x,this._difference.y=this._acc.y-this._offset.y,this._difference.z=this._acc.z-this._offset.z;for(var t=0;t<this.parallaxElements.length;t++){this.parallaxElements[t].getComponent("ParallaxElement").setPosition(this._difference.x,this._difference.y)}}else this.changeElements(this.touchOffset.x/this.maxTouchDeviation.x),1==this.endEffectEnabled&&this.touchOffset.x/this.maxTouchDeviation.x<-1&&(this.changeElements(1.1),this.movementActive=!1,0==this.actionActive&&(this.actionActive=!0,this.startAction()))},changeElements:function(e){for(var t=0;t<this.parallaxElements.length;t++){this.parallaxElements[t].getComponent("ParallaxElement").setPosition(e,0)}e<0&&(this.parallaxScaleShadow.setScale(e,0),this.dayBG.opacity=255-255*Math.abs(e),this.snowflake.node.opacity=255*Math.abs(e),this.sunImage.getComponent("ParallaxElement").setPosition(0,e),this.moomImage.getComponent("ParallaxElement").setPosition(0,e))},setOffset:function(){this._offset.x=this._acc.x,this._offset.y=this._acc.y,this._offset.z=this._acc.z},startAction:function(){this.outlineImage.enabled=!0,this.outlineImage.node.opacity=0,this.outlineImage.node.runAction(cc.sequence(cc.delayTime(2),cc.fadeIn(2))),this.fillImage.enabled=!0,this.fillImage.node.opacity=0,this.fillImage.node.runAction(cc.sequence(cc.delayTime(3),cc.fadeIn(1)));for(var e=0;e<this.endEffects.length;e++)this.endEffects[e].enabled=!0;this.restartButton.opacity=0,this.restartButton.runAction(cc.sequence(cc.delayTime(4),cc.fadeIn(.5))),this.effectsController.startLights(),this.restartButton.enabled=!0},reload:function(){this.restartButton.opacity=0,this.outlineImage.enabled=!1,this.fillImage.enabled=!1;for(var e=0;e<this.endEffects.length;e++)this.endEffects[e].enabled=!1;this.effectsController.stopLights(),this.touchOffset.x=0,this.actionActive=!1,this.movementActive=!0,this.indicatorNode.showIndicators(),this.touchReleaseDeviation=0,this.changeElements(-.2),this.restartButton.enabled=!1},enableGameEnd:function(){this.node.stopAllActions(),this.endEffectEnabled=!0,this.node.runAction(cc.sequence(cc.delayTime(8),cc.callFunc(this.enableGameEnd.bind(this))))}}),cc._RF.pop()},{EffectsController:"EffectsController",Indicators:"Indicators",ParallaxScaler:"ParallaxScaler"}],ParallaxElement:[function(e,t,c){"use strict";cc._RF.push(t,"c5b495F6hdFn5qOjqfJJ7FF","ParallaxElement"),cc.Class({extends:cc.Component,properties:{reverseMovement:1,startPos:cc.v2(0,0),maxDeviation:cc.v2(0,0),selfNode:cc.Node,changeOpacity:!1},start:function(){this.startPos.x=this.selfNode.x,this.startPos.y=this.selfNode.y},setPosition:function(e,t){1==this.changeOpacity&&(this.selfNode.opacity=255-255*Math.abs(t-.4)),e>.3||Math.abs(e)>1||Math.abs(t)>1||(this.selfNode.x=this.startPos.x+this.maxDeviation.x*e*this.reverseMovement,this.selfNode.y=this.startPos.y+this.maxDeviation.y*t*this.reverseMovement)}}),cc._RF.pop()},{}],ParallaxScaler:[function(e,t,c){"use strict";cc._RF.push(t,"aaa68if8m9OwIL70Favr01c","ParallaxScaler"),cc.Class({extends:cc.Component,properties:{},setScale:function(e,t){Math.abs(e)>1||e>0||(this.node.scaleX=.7+.3*Math.abs(e))}}),cc._RF.pop()},{}]},{},["AutoMove","CameraController","EffectsController","Indicators","ParallaxController","ParallaxElement","ParallaxScaler"]);