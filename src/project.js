window.__require=function e(t,c,i){function n(o,a){if(!c[o]){if(!t[o]){var r=o.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+o+"'")}}var h=c[o]={exports:{}};t[o][0].call(h.exports,function(e){return n(t[o][1][e]||e)},h,h.exports,e,t,c,i)}return c[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<i.length;o++)n(i[o]);return n}({EffectsController:[function(e,t,c){"use strict";cc._RF.push(t,"c61c1uEK0hHRrO8Sl15cNVo","EffectsController"),cc.Class({extends:cc.Component,properties:{particleSystems:[cc.ParticleSystem],windowLights:[cc.Sprite],lightBeacon:cc.Sprite},start:function(){},startLights:function(){for(var e=0;e<this.windowLights.length;e++)this.windowLights[e].enabled=!0,this.windowLights[e].node.opacity=0,this.windowLights[e].node.runAction(cc.sequence(cc.delayTime(.3*e),cc.fadeIn(.3)));this.lightBeacon.enabled=!0,this.lightBeacon.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.05,1,0),cc.delayTime(3),cc.scaleTo(.2,1,1),cc.scaleTo(.1,1,0)))),this.windowLights[0].node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(2),cc.fadeIn(.1),cc.delayTime(.3),cc.fadeOut(.2),cc.delayTime(.1),cc.fadeIn(.1)))),this.windowLights[4].node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1),cc.fadeIn(.1),cc.delayTime(.1),cc.fadeOut(.2),cc.delayTime(.2),cc.fadeIn(.1))))}}),cc._RF.pop()},{}],ParallaxController:[function(e,t,c){"use strict";cc._RF.push(t,"b0049EaKkZNNr+SaYEsEZ3X","ParallaxController");var i=e("EffectsController"),n=e("ParallaxScaler");cc.Class({extends:cc.Component,properties:{motionEnabled:cc.Boolean,canvas:cc.Node,maxTouchDeviation:cc.v2(250,250),touchStart:cc.v2(0,0),touchOffset:cc.v2(0,0),_acc:cc.v3(0,0,0),_offset:cc.v2(0,0),_difference:cc.v3(0,0,0),parallaxElements:[cc.Node],movementActive:!0,outlineImage:cc.Sprite,fillImage:cc.Sprite,snowParticles:cc.ParticleSystem,endEffects:[cc.ParticleSystem],effectsController:{default:null,type:i},parallaxScaleShadow:{default:null,type:n},restartButton:cc.Node,actionActive:!1},onLoad:function(){cc.debug.setDisplayStats(!1);cc.view.getVisibleSize();cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this),cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.setAccelerometerInterval(.01),this.setOffset(),this.isMoving=!1,this.canvas.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.canvas.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMovement,this),this.canvas.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.restartButton.opacity=0},onDestroy:function(){cc.systemEvent.setAccelerometerEnabled(!1),cc.systemEvent.off(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this)},onDeviceMotionEvent:function(e){this._acc.x=e.acc.x,this._acc.y=e.acc.y,this._acc.z=e.acc.z},onTouchStart:function(e){var t=e.getTouches()[0].getLocation();this.isMoving=!0,this.touchStart=t},onTouchMovement:function(e){var t=e.getTouches()[0].getLocation();this.touchOffset.x=t.x-this.touchStart.x,this.touchOffset.y=t.y-this.touchStart.y},onTouchEnd:function(e){self.isMoving=!1},update:function(e){if(1==this.movementActive)if(this.motionEnabled){this._difference.x=this._acc.x-this._offset.x,this._difference.y=this._acc.y-this._offset.y,this._difference.z=this._acc.z-this._offset.z;this.parallaxElements;for(var t=0;t<this.parallaxElements.length;t++){this.parallaxElements[t].getComponent("ParallaxElement").setPosition(this._difference.x,this._difference.y)}}else{for(this.parallaxElements,t=0;t<this.parallaxElements.length;t++){this.parallaxElements[t].getComponent("ParallaxElement").setPosition(this.touchOffset.x/this.maxTouchDeviation.x,this.touchOffset.y/this.maxTouchDeviation.y)}this.parallaxScaleShadow.setScale(this.touchOffset.x/this.maxTouchDeviation.x,0),this.touchOffset.x/this.maxTouchDeviation.x<-1&&(this.movementActive=!1,0==this.actionActive&&(this.actionActive=!0,this.startAction()))}},getDifference:function(){return this._difference},setOffset:function(){this._offset.x=this._acc.x,this._offset.y=this._acc.y,this._offset.z=this._acc.z},startAction:function(){this.outlineImage.enabled=!0,this.outlineImage.node.opacity=0,this.outlineImage.node.runAction(cc.sequence(cc.delayTime(2),cc.fadeIn(2))),this.fillImage.enabled=!0,this.fillImage.node.opacity=0,this.fillImage.node.runAction(cc.sequence(cc.delayTime(4),cc.fadeIn(2)));for(var e=0;e<this.endEffects.length;e++)this.endEffects[e].enabled=!0;this.restartButton.opacity=0,this.restartButton.runAction(cc.sequence(cc.delayTime(4),cc.fadeIn(.5))),this.effectsController.startLights()},reload:function(){cc.director.loadScene("MainScene.fire",null)}}),cc._RF.pop()},{EffectsController:"EffectsController",ParallaxScaler:"ParallaxScaler"}],ParallaxElement:[function(e,t,c){"use strict";cc._RF.push(t,"c5b495F6hdFn5qOjqfJJ7FF","ParallaxElement"),cc.Class({extends:cc.Component,properties:{reverseMovement:1,startPos:cc.v2(0,0),maxDeviation:cc.v2(0,0),selfNode:cc.Node},start:function(){this.startPos.x=this.selfNode.x,this.startPos.y=this.selfNode.y},setPosition:function(e,t){e>.3||Math.abs(e)>1||(this.selfNode.x=this.startPos.x+this.maxDeviation.x*e*this.reverseMovement,this.selfNode.y=this.startPos.y+this.maxDeviation.y*t*this.reverseMovement)}}),cc._RF.pop()},{}],ParallaxScaler:[function(e,t,c){"use strict";cc._RF.push(t,"aaa68if8m9OwIL70Favr01c","ParallaxScaler"),cc.Class({extends:cc.Component,properties:{},setScale:function(e,t){Math.abs(e)>1||e>0||(this.node.scaleX=.7+.3*Math.abs(e))}}),cc._RF.pop()},{}]},{},["EffectsController","ParallaxController","ParallaxElement","ParallaxScaler"]);