window.__require=function t(e,c,n){function i(o,a){if(!c[o]){if(!e[o]){var r=o.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+o+"'")}}var h=c[o]={exports:{}};e[o][0].call(h.exports,function(t){return i(e[o][1][t]||t)},h,h.exports,t,e,c,n)}return c[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<n.length;o++)i(n[o]);return i}({CameraController:[function(t,e,c){"use strict";cc._RF.push(e,"20aa85rGLVNWJb5FWJJlynK","CameraController"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],EffectsController:[function(t,e,c){"use strict";cc._RF.push(e,"c61c1uEK0hHRrO8Sl15cNVo","EffectsController"),cc.Class({extends:cc.Component,properties:{particleSystems:[cc.ParticleSystem],windowLights:[cc.Sprite],lightBeacon:cc.Sprite},startLights:function(){for(var t=0;t<this.windowLights.length;t++)this.windowLights[t].enabled=!0,this.windowLights[t].node.opacity=0,this.windowLights[t].node.runAction(cc.sequence(cc.delayTime(.4*t),cc.fadeIn(.3)));this.lightBeacon.enabled=!0,this.lightBeacon.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.05,1,0),cc.delayTime(3),cc.scaleTo(.2,1,1),cc.scaleTo(.1,1,0)))),this.windowLights[0].node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(2),cc.fadeIn(.1),cc.delayTime(.3),cc.fadeOut(.2),cc.delayTime(.1),cc.fadeIn(.1)))),this.windowLights[4].node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1),cc.fadeIn(.1),cc.delayTime(.1),cc.fadeOut(.2),cc.delayTime(.2),cc.fadeIn(.1))))},stopLights:function(){for(var t=0;t<this.windowLights.length;t++)this.windowLights[t].enabled=!1,this.lightBeacon.enabled=!1,this.windowLights[0].node.stopAllActions(),this.windowLights[4].node.stopAllActions(),this.lightBeacon.node.stopAllActions()}}),cc._RF.pop()},{}],Indicators:[function(t,e,c){"use strict";cc._RF.push(e,"a1eb5wUcN9DnYzMsQb9WUuC","Indicators"),cc.Class({extends:cc.Component,properties:{hand:cc.Node,leftArrow:cc.Node,rightArrow:cc.Node},showIndicators:function(){}}),cc._RF.pop()},{}],ParallaxController:[function(t,e,c){"use strict";cc._RF.push(e,"b0049EaKkZNNr+SaYEsEZ3X","ParallaxController");var n=t("EffectsController"),i=t("ParallaxScaler");cc.Class({extends:cc.Component,properties:{motionEnabled:cc.Boolean,canvas:cc.Node,maxTouchDeviation:cc.v2(250,250),touchStart:cc.v2(0,0),touchOffset:cc.v2(0,0),_acc:cc.v3(0,0,0),_offset:cc.v2(0,0),_difference:cc.v3(0,0,0),parallaxElements:[cc.Node],movementActive:!0,outlineImage:cc.Sprite,fillImage:cc.Sprite,snowParticles:cc.ParticleSystem,endEffects:[cc.ParticleSystem],effectsController:{default:null,type:n},parallaxScaleShadow:{default:null,type:i},restartButton:cc.Node,actionActive:!1,endEffectEnabled:!1},onLoad:function(){cc.debug.setDisplayStats(!1);cc.view.getVisibleSize();cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this),cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.setAccelerometerInterval(.01),this.setOffset(),this.isMoving=!1,this.canvas.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.canvas.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMovement,this),this.canvas.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.restartButton.opacity=0,this.node.runAction(cc.sequence(cc.delayTime(10),cc.callFunc(this.enableGameEnd.bind(this)))),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(this.startLights.bind(this))))},startLights:function(){this.effectsController.startLights()},onDestroy:function(){cc.systemEvent.setAccelerometerEnabled(!1),cc.systemEvent.off(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this)},onDeviceMotionEvent:function(t){this._acc.x=t.acc.x,this._acc.y=t.acc.y,this._acc.z=t.acc.z},onTouchStart:function(t){var e=t.getTouches()[0].getLocation();this.isMoving=!0,this.touchStart=e},onTouchMovement:function(t){var e=t.getTouches()[0].getLocation();this.touchOffset.x=e.x-this.touchStart.x,this.touchOffset.y=e.y-this.touchStart.y},onTouchEnd:function(t){self.isMoving=!1},update:function(t){if(1==this.movementActive)if(this.motionEnabled){this._difference.x=this._acc.x-this._offset.x,this._difference.y=this._acc.y-this._offset.y,this._difference.z=this._acc.z-this._offset.z;for(var e=0;e<this.parallaxElements.length;e++){this.parallaxElements[e].getComponent("ParallaxElement").setPosition(this._difference.x,this._difference.y)}}else{for(e=0;e<this.parallaxElements.length;e++){this.parallaxElements[e].getComponent("ParallaxElement").setPosition(this.touchOffset.x/this.maxTouchDeviation.x,this.touchOffset.y/this.maxTouchDeviation.y)}this.parallaxScaleShadow.setScale(this.touchOffset.x/this.maxTouchDeviation.x,0),1==this.endEffectEnabled&&this.touchOffset.x/this.maxTouchDeviation.x<-1&&(this.movementActive=!1,0==this.actionActive&&(this.actionActive=!0,this.startAction()))}},setOffset:function(){this._offset.x=this._acc.x,this._offset.y=this._acc.y,this._offset.z=this._acc.z},startAction:function(){this.outlineImage.enabled=!0,this.outlineImage.node.opacity=0,this.outlineImage.node.runAction(cc.sequence(cc.delayTime(2),cc.fadeIn(2))),this.fillImage.enabled=!0,this.fillImage.node.opacity=0,this.fillImage.node.runAction(cc.sequence(cc.delayTime(3),cc.fadeIn(1)));for(var t=0;t<this.endEffects.length;t++)this.endEffects[t].enabled=!0;this.restartButton.opacity=0,this.restartButton.runAction(cc.sequence(cc.delayTime(4),cc.fadeIn(.5)))},reload:function(){this.restartButton.opacity=0,this.outlineImage.enabled=!1,this.fillImage.enabled=!1;for(var t=0;t<this.endEffects.length;t++)this.endEffects[t].enabled=!1;this.effectsController.stopLights(),this.touchOffset.x=0,this.actionActive=!1,this.movementActive=!0},enableGameEnd:function(){this.node.stopAllActions(),this.endEffectEnabled=!0,this.node.runAction(cc.sequence(cc.delayTime(8),cc.callFunc(this.enableGameEnd.bind(this))))}}),cc._RF.pop()},{EffectsController:"EffectsController",ParallaxScaler:"ParallaxScaler"}],ParallaxElement:[function(t,e,c){"use strict";cc._RF.push(e,"c5b495F6hdFn5qOjqfJJ7FF","ParallaxElement"),cc.Class({extends:cc.Component,properties:{reverseMovement:1,startPos:cc.v2(0,0),maxDeviation:cc.v2(0,0),selfNode:cc.Node},start:function(){this.startPos.x=this.selfNode.x,this.startPos.y=this.selfNode.y},setPosition:function(t,e){t>.3||Math.abs(t)>1||(this.selfNode.x=this.startPos.x+this.maxDeviation.x*t*this.reverseMovement,this.selfNode.y=this.startPos.y+this.maxDeviation.y*e*this.reverseMovement)}}),cc._RF.pop()},{}],ParallaxScaler:[function(t,e,c){"use strict";cc._RF.push(e,"aaa68if8m9OwIL70Favr01c","ParallaxScaler"),cc.Class({extends:cc.Component,properties:{},setScale:function(t,e){Math.abs(t)>1||t>0||(this.node.scaleX=.7+.3*Math.abs(t))}}),cc._RF.pop()},{}]},{},["CameraController","EffectsController","Indicators","ParallaxController","ParallaxElement","ParallaxScaler"]);